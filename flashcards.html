<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Flashcards</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="stylesheet" href="styles.css">
</head>
<body>

<header class="topbar">
  <div class="brand">Flashcards</div>
  <nav class="nav"><a href="index.html">Home</a></nav>
  <button id="darkToggle" class="btn">Dark</button>
</header>

<main class="container">
  <section class="card">
    <h2>Flashcards</h2>

    <div id="card" class="flashcard"></div>

    <div class="card-actions">
      <button id="prev" class="btn">Prev</button>
      <button id="show" class="btn">Show Answer</button>
      <button id="next" class="btn">Next</button>
    </div>
  </section>
</main>

<script>
let F = null;
let idx = 0;

fetch('data.json')
  .then(r => r.json())
  .then(d => {
    F = d.flashcards || [];
    render();
  });

function render() {
  const c = document.getElementById('card');
  if (!F.length) {
    c.innerText = 'No flashcards available';
    return;
  }
  c.innerHTML = '<b>Q:</b> ' + F[idx].q;
}

document.getElementById('prev').onclick = () => {
  idx = (idx - 1 + F.length) % F.length;
  render();
};

document.getElementById('next').onclick = () => {
  idx = (idx + 1) % F.length;
  render();
};

document.getElementById('show').onclick = () => {
  const c = document.getElementById('card');
  c.innerHTML = '<b>Q:</b> ' + F[idx].q + '<hr><b>A:</b> ' + F[idx].a;
};

document.addEventListener('click', e => {
  if (e.target.id === 'darkToggle') {
    document.body.classList.toggle('dark');
  }
});
</script>

</body>
</html>
